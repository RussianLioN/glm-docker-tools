# P17 –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑: Docker Desktop vs CLI-only –Ω–∞ macOS

**–î–∞—Ç–∞ –∫–æ–Ω—Å–∏–ª–∏—É–º–∞**: 2026-01-16
**–í–æ–ø—Ä–æ—Å**: –ù—É–∂–µ–Ω –ª–∏ Docker Desktop –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ macOS?

---

## üéØ –ö–õ–Æ–ß–ï–í–û–ô –í–û–ü–†–û–° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø

> "–¥–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω Desktop? –†–∞–∑–≤–µ –Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ CLI?"

---

## ‚úÖ –û–¢–í–ï–¢ –≠–ö–°–ü–ï–†–¢–ù–û–ô –ü–ê–ù–ï–õ–ò

### –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–ù–ï–¢**, Docker Desktop **–ù–ï —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ macOS.

### –ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    macOS Architecture                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                              ‚îÇ
‚îÇ  Docker CLI (–∫–ª–∏–µ–Ω—Ç)                                        ‚îÇ
‚îÇ       ‚îÇ                                                       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂ Docker daemon (—Å–µ—Ä–≤–µ—Ä)                       ‚îÇ
‚îÇ                     ‚îÇ                                        ‚îÇ
‚îÇ                     ‚ñº                                        ‚îÇ
‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îÇ
‚îÇ              ‚îÇ  Linux VM       ‚îÇ  ‚óÄ‚îÄ‚îÄ –ù–ï–û–ë–•–û–î–ò–ú–û –Ω–∞ macOS   ‚îÇ
‚îÇ              ‚îÇ  (HyperKit/QEMU) ‚îÇ                            ‚îÇ
‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  Linux VM –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è:                                  ‚îÇ
‚îÇ  - Docker Desktop (—Ç—è–∂–µ–ª—ã–π, 2GB RAM)                       ‚îÇ
‚îÇ  - OrbStack (–±—ã—Å—Ç—Ä—ã–π, 200MB) ‚úì –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø            ‚îÇ
‚îÇ  - Colima (CLI-first, 500MB)                               ‚îÇ
‚îÇ  - Rancher Desktop (—Å—Ä–µ–¥–Ω–∏–π, 1.5GB)                         ‚îÇ
‚îÇ                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üë• –≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å (7 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤)

### 1Ô∏è‚É£ macOS Docker Expert (20+ years experience)

**–í–µ—Ä–¥–∏–∫—Ç:**
```
Docker Desktop –ù–ï –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!
macOS —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞:
- Docker daemon —Ç—Ä–µ–±—É–µ—Ç Linux kernel
- Docker Desktop –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Linux VM
- –ù–û –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
  ‚úÖ OrbStack (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è - —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)
  ‚úÖ Colima (CLI-first, open source)
  ‚ö†Ô∏è Docker Desktop (—Ç—è–∂–µ–ª—ã–π, –º–µ–¥–ª–µ–Ω–Ω—ã–π)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è Claude Code:**
> –î–ª—è CLI-only –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∫–∞–∫ Claude Code) —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è OrbStack:
> - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (2-3 —Å–µ–∫ vs 15-20 —Å–µ–∫)
> - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM (200MB vs 2GB)
> - CLI-first –ø–æ–¥—Ö–æ–¥ (orb start/stop)

---

### 2Ô∏è‚É£ Senior DevOps Engineer

**–ê–Ω–∞–ª–∏–∑:**
```
CI/CD perspective:
- GitHub Actions: Linux runners (no Docker Desktop)
- GitLab CI/CD: Linux runners
- Local development: –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å production!

–í—ã–≤–æ–¥: CLI-only approach preferred
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è P17:**
```bash
# –ù–ï –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å—Å—è –∫ Docker Desktop!
# –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

start_docker_daemon() {
    # 1. OrbStack (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    if pgrep -f "OrbStack" >/dev/null; then
        return 0  # –£–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
    fi

    # 2. Colima
    if command -v colima >/dev/null 2>&1; then
        colima start >/dev/null 2>&1
        return $?
    fi

    # 3. Docker Desktop (fallback)
    if [[ -d "/Applications/Docker.app" ]]; then
        open -a Docker
        return $?
    fi

    # 4. –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
    return 1
}
```

---

### 3Ô∏è‚É£ Performance Optimization Expert

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**

| –†–µ—à–µ–Ω–∏–µ | RAM Idle | –ó–∞–ø—É—Å–∫ | CPU | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å |
|---------|----------|--------|-----|--------------|
| **OrbStack** | ~200MB | 2-3 —Å–µ–∫ | –ù–∏–∑–∫–∏–π | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ |
| **Colima** | ~500MB | 5-8 —Å–µ–∫ | –°—Ä–µ–¥–Ω–∏–π | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ |
| **Docker Desktop** | ~2GB | 15-20 —Å–µ–∫ | –í—ã—Å–æ–∫–∏–π | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ |
| **Rancher Desktop** | ~1.5GB | 10-15 —Å–µ–∫ | –°—Ä–µ–¥–Ω–∏–π | ‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ |

**–í—ã–≤–æ–¥:**
> OrbStack –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **10x —É–ª—É—á—à–µ–Ω–∏–µ** –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å Docker Desktop.
> –î–ª—è Claude Code —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É.

---

### 4Ô∏è‚É£ Container Orchestration Expert

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑:**
```
Docker Desktop components:
‚îú‚îÄ‚îÄ Docker daemon (–ù–ï–û–ë–•–û–î–ò–ú) ‚úì
‚îú‚îÄ‚îÄ Linux VM (–ù–ï–û–ë–•–û–î–ò–ú–ê –Ω–∞ macOS) ‚úì
‚îú‚îÄ‚îÄ Kubernetes (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ä–µ–¥–∫–æ –Ω—É–∂–Ω–æ) ‚úó
‚îú‚îÄ‚îÄ Docker Scout (–º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –Ω–µ –Ω—É–∂–Ω–æ) ‚úó
‚îú‚îÄ‚îÄ Docker Extensions (GUI —Ñ–∏—á–∞, –Ω–µ –Ω—É–∂–Ω–æ) ‚úó
‚îî‚îÄ‚îÄ GUI (–¥–ª—è CLI-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –Ω—É–∂–Ω–æ!) ‚úó

–î–ª—è Claude Code –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:
‚îú‚îÄ‚îÄ Docker daemon
‚îî‚îÄ‚îÄ Linux VM

–í—ã–≤–æ–¥: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
```

---

### 5Ô∏è‚É£ macOS System Integration Expert

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∑–∞–ø—É—Å–∫–∞:**

| –ú–µ—Ç–æ–¥ | –ö–æ–º–∞–Ω–¥–∞ | –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å |
|-------|---------|------------|--------------|
| **Docker Desktop** | `open -a Docker` | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ |
| **OrbStack CLI** | `orb start` | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ |
| **Colima CLI** | `colima start` | daemon.yaml | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ |
| **Lima** | `limactl start` | Complex | ‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```bash
# P17 –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫
P17_DOCKER_ENGINE="${P17_DOCKER_ENGINE:-auto}"

case "$P17_DOCKER_ENGINE" in
    orbstack)   orb start ;;
    colima)     colima start ;;
    docker-desktop) open -a Docker ;;
    auto)        # –ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ ;;
esac
```

---

### 6Ô∏è‚É£ Site Reliability Engineer (SRE)

**SLO –∞–Ω–∞–ª–∏–∑:**
```
Requirement: Claude Code –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–æ

Current (Docker Desktop):
- Startup: 15-20 —Å–µ–∫—É–Ω–¥
- Failure rate: ~5% (daemon –Ω–µ –≥–æ—Ç–æ–≤)

Target (OrbStack/Colima):
- Startup: 3-8 —Å–µ–∫—É–Ω–¥
- Failure rate: ~2% (–ª–µ–≥—á–µ –æ—Ç–ª–∞–¥–∫–∞)

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è SLO
```

---

### 7Ô∏è‚É£ Open Source Contributor (Docker ecosystem)

**–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∞—Å–ø–µ–∫—Ç:**
```
Docker Inc. strategy:
- Push Docker Desktop (–ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π)
- De-emphasize CLI-only solutions

Community solutions:
- Colima: Open source, Lima-based ‚úì
- OrbStack: Free but proprietary

Developer freedom:
- –ù–µ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å—Å—è –∫ Docker Desktop!
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚úì
```

---

## üéØ –ö–û–ù–°–ï–ù–°–£–° –≠–ö–°–ü–ï–†–¢–ù–û–ô –ü–ê–ù–ï–õ–ò

### ‚úÖ –ï–î–ò–ù–û–ì–õ–ê–°–ù–û–ï –†–ï–®–ï–ù–ò–ï

**–í–æ–ø—Ä–æ—Å:** –ù—É–∂–µ–Ω –ª–∏ Docker Desktop?
**–û—Ç–≤–µ—Ç:** –ù–ï–¢, Docker Desktop - —ç—Ç–æ –ª–∏—à—å **–æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤**

### üìä –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è P17

| –ê—Å–ø–µ–∫—Ç | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|---------------|
| **–ü—Ä–∏–≤—è–∑–∫–∞ –∫ Desktop** | ‚ùå –ò–ó–ë–ï–ì–ê–¢–¨ –∂–µ—Å—Ç–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ |
| **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤** | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å OrbStack, Colima |
| **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç** | OrbStack > Colima > Docker Desktop |
| **–ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** | ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã |
| **Fallback** | Docker Desktop –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–∞—Ä–∏–∞–Ω—Ç |

---

## üöÄ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```
Docker Engine v29.1.3
Context: desktop-linux
Plugins: docker-desktop, buildx, compose

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:
- OrbStack: ‚úÖ –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- Colima: ‚úÖ –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- Rancher Desktop: ‚úÖ –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

1. **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π (—Ç–µ–∫—É—â–∏–π P17):**
   - –û—Å—Ç–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É Docker Desktop
   - –î–æ–±–∞–≤–∏—Ç—å auto-detection –¥—Ä—É–≥–∏—Ö engines
   - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å OrbStack –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

2. **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–π (–ø–æ—Å–ª–µ P17):**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OrbStack –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –°—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ OrbStack –µ—Å–ª–∏ satisfied

3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π:**
   - OrbStack –∫–∞–∫ default recommendation
   - Colima –¥–ª—è open-source —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤
   - Docker Desktop –∫–∞–∫ fallback

---

## üìã –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è P17 (–æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è)

### –§—É–Ω–∫—Ü–∏–∏ `scripts/docker-helper.sh`

```bash
#!/bin/bash
# docker-helper.sh - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è Docker engines

# =============================================================================
# –ö–û–ù–°–¢–ê–ù–¢–´
# =============================================================================

DOCKER_SOCKET="/var/run/docker.sock"
MAX_STARTUP_WAIT=30

# Docker engines (–≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ)
declare -A DOCKER_ENGINES=(
    [orbstack]="OrbStack"
    [colima]="Colima"
    [docker-desktop]="Docker Desktop"
)

# =============================================================================
# –§–£–ù–ö–¶–ò–ò –û–ë–ù–ê–†–£–ñ–ï–ù–ò–Ø
# =============================================================================

# –û–±–Ω–∞—Ä—É–∂–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ Docker engines
detect_docker_engines() {
    local available=()

    # 1. OrbStack (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è - —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)
    if [[ -d "/Applications/OrbStack.app" ]] || command -v orb >/dev/null 2>&1; then
        available+=("orbstack")
    fi

    # 2. Colima (CLI-first, open source)
    if command -v colima >/dev/null 2>&1; then
        available+=("colima")
    fi

    # 3. Docker Desktop (fallback)
    if [[ -d "/Applications/Docker.app" ]]; then
        available+=("docker-desktop")
    fi

    echo "${available[@]}"
}

# =============================================================================
# –§–£–ù–ö–¶–ò–ò –ó–ê–ü–£–°–ö–ê
# =============================================================================

start_docker_engine() {
    local engine="$1"

    case "$engine" in
        orbstack)
            if command -v orb >/dev/null 2>&1; then
                orb start >/dev/null 2>&1
            else
                open -a "OrbStack"
            fi
            ;;
        colima)
            colima start >/dev/null 2>&1
            ;;
        docker-desktop)
            open -a Docker
            ;;
    esac
}

# =============================================================================
# –ì–õ–ê–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø
# =============================================================================

ensure_docker_running() {
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
    if docker info >/dev/null 2>&1; then
        return 0
    fi

    # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö engines
    local available=($(detect_docker_engines))

    if [[ ${#available[@]} -eq 0 ]]; then
        echo "error:Docker engine –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
        echo "install:–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è OrbStack: https://orbstack.dev"
        return 1
    fi

    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–µ—Ä–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ
    local selected="${available[0]}"
    echo "not_running:$(get_engine_name "$selected")"
    return 2
}
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤

**OrbStack (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
# –°–∫–∞—á–∞–π—Ç–µ —Å https://orbstack.dev
# –ò–ª–∏ —á–µ—Ä–µ–∑ Homebrew:
brew install --cask orbstack
```

**Colima:**
```bash
brew install colima
colima start
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É engines

```bash
# OrbStack
orb start
orb stop

# Colima
colima start
colima stop

# Docker Desktop
open -a Docker
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –º–µ–Ω—é: Quit Docker Desktop
```

---

## üîó –°–≤—è–∑—å —Å P12 (Workspace Independence)

**–°–∏–Ω–µ—Ä–≥–∏—è:**
- **P12**: –ó–∞–ø—É—Å–∫ –∏–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **P17**: –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ Docker engine

**–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UX:**
```bash
# –ò–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:
cd ~/coding/projects/my-project
glm                    # P13: shell-–∞–ª–∏–∞—Å
  ‚Üí P17: auto-detect Docker engine
  ‚Üí P17: start OrbStack (3 —Å–µ–∫)
  ‚Üí P12: map current directory
  ‚Üí ‚úÖ Claude Code –≥–æ—Ç–æ–≤!
```

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Docker Desktop | OrbStack | Colima |
|----------|---------------|----------|--------|
| **–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞** | 15-20 —Å–µ–∫ | 2-3 —Å–µ–∫ | 5-8 —Å–µ–∫ |
| **RAM idle** | ~2GB | ~200MB | ~500MB |
| **–£—Å—Ç–∞–Ω–æ–≤–∫–∞** | GUI | GUI/Brew | Brew |
| **CLI-first** | ‚ùå | ‚úÖ | ‚úÖ |
| **Stability** | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ | ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ |
| **–†–µ–∫–æ–º–µ–Ω–¥ation** | Fallback | ‚úì **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ |

---

**–í—ã–≤–æ–¥ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤:**
1. Docker Desktop –ù–ï –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
2. OrbStack —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è CLI-use cases
3. P17 –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ engines
4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: OrbStack > Colima > Docker Desktop

---

**–î–∞—Ç–∞**: 2026-01-16
**–≠–∫—Å–ø–µ—Ä—Ç—ã**: macOS Docker Expert, DevOps Engineer, Performance Expert, Container Expert, macOS Integration Expert, SRE, Open Source Contributor
