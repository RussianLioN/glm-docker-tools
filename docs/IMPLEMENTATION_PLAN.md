# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–ª—É—á—à–µ–Ω–∏–π GLM Docker Tools

> üìö **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: [Home](../README.md) > [Expert Review](./EXPERT_CONSENSUS_REVIEW.md) > **Implementation Plan**

**üìä –°—Ç–∞—Ç—É—Å –ø–ª–∞–Ω–∞**: ‚úÖ **–ó–ê–í–ï–†–®–ï–ù** - –í—Å–µ 7 —É–ª—É—á—à–µ–Ω–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (2025-12-30)

---

## üìã –û–±–∑–æ—Ä –ø–ª–∞–Ω–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∞–ª –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **7 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π**, –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å–∏–ª–∏—É–º–æ–º –∏–∑ 11 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.

**‚úÖ –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –í–°–ï 7 –£–õ–£–ß–®–ï–ù–ò–ô –ó–ê–í–ï–†–®–ï–ù–´ —Å UAT PASSED

**üìå –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã**:
- **[üèÜ Expert Consensus Review](./EXPERT_CONSENSUS_REVIEW.md)** - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º —É–ª—É—á—à–µ–Ω–∏–π
- **[üìã Session Handoff](../SESSION_HANDOFF.md)** - –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- **[üéØ Project Review](./PROJECT_REVIEW.md)** - –û–±—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- **[üìö CLAUDE.md](../CLAUDE.md)** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Claude Code

---

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è

| –§–∞–∑–∞ | –£–ª—É—á—à–µ–Ω–∏—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ | –í–ª–∏—è–Ω–∏–µ |
|------|-----------|-----------|----------------|---------|
| **–§–∞–∑–∞ 1** | P1, P2, P3 | –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô | 4-6 —á–∞—Å–æ–≤ | –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º |
| **–§–∞–∑–∞ 2** | P4, P5 | –í–´–°–û–ö–ò–ô | 3-4 —á–∞—Å–∞ | –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞ |
| **–§–∞–∑–∞ 3** | P6, P7 | –°–†–ï–î–ù–ò–ô | 4-5 —á–∞—Å–æ–≤ | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |

**–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: 11-15 —á–∞—Å–æ–≤

### –ü–æ–¥—Ö–æ–¥

1. **–ü–æ—ç—Ç–∞–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –ö–∞–∂–¥–∞—è —Ñ–∞–∑–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
2. **–ö–æ–º–º–∏—Ç—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è**: –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫–∞—Ç–∞
3. **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

---

## üî• –§–ê–ó–ê 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ü–†–ò–û–†–ò–¢–ï–¢ 1)

### P1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è –æ–±—Ä–∞–∑–∞ –∏ –µ–≥–æ —Å–±–æ—Ä–∫—É, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `ensure_image()` –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 100

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `ensure_image()` –ø–æ—Å–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ `check_dependencies()`:

```bash
# Ensure Docker image exists (build if necessary)
ensure_image() {
    log_info "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Docker-–æ–±—Ä–∞–∑–∞: $IMAGE"

    if ! docker image inspect "$IMAGE" &> /dev/null; then
        log_info "üèóÔ∏è  –û–±—Ä–∞–∑ $IMAGE –Ω–µ –Ω–∞–π–¥–µ–Ω. –ù–∞—á–∏–Ω–∞—é —Å–±–æ—Ä–∫—É..."

        local script_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

        if [[ ! -f "$script_dir/Dockerfile" ]]; then
            log_error "‚ùå Dockerfile –Ω–µ –Ω–∞–π–¥–µ–Ω: $script_dir/Dockerfile"
            exit 1
        fi

        log_info "üì¶ –ó–∞–ø—É—Å–∫ docker build -t $IMAGE $script_dir"
        if ! docker build -t "$IMAGE" "$script_dir"; then
            log_error "‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞"
            exit 1
        fi

        log_success "‚úÖ –û–±—Ä–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω: $IMAGE"
    else
        log_success "‚úÖ –û–±—Ä–∞–∑ –Ω–∞–π–¥–µ–Ω: $IMAGE"
    fi
}
```

**–®–∞–≥ 2**: –í—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ ~323, –ø–µ—Ä–µ–¥ `setup_volume_mounts`):

```bash
# Check dependencies first
check_dependencies

# Ensure image exists
ensure_image

# Setup volume mounts
setup_volume_mounts
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –û–±—Ä–∞–∑ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**
   ```bash
   # –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ–±—Ä–∞–∑ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   docker images | grep glm-docker-tools
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚úÖ –û–±—Ä–∞–∑ –Ω–∞–π–¥–µ–Ω: glm-docker-tools:latest"
   ```

2. **–¢–µ—Å—Ç 2: –û–±—Ä–∞–∑ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
   ```bash
   # –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑
   docker rmi glm-docker-tools:latest
   # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ ‚Üí "‚úÖ –û–±—Ä–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω"
   ```

3. **–¢–µ—Å—Ç 3: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Dockerfile**
   ```bash
   # –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å Dockerfile
   mv Dockerfile Dockerfile.bak
   docker rmi glm-docker-tools:latest
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚ùå Dockerfile –Ω–µ –Ω–∞–π–¥–µ–Ω" + exit 1
   mv Dockerfile.bak Dockerfile
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—Ä–∞–∑–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ Dockerfile
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ–±—Ä–∞–∑–∞

---

### P2: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –∏ cleanup

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–±–∞–≤–∏—Ç—å trap-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏ (Ctrl+C, SIGTERM).

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–∞ (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 30)

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 33 (–ø–æ—Å–ª–µ `IMAGE="glm-docker-tools:latest"`):

```bash
IMAGE="glm-docker-tools:latest"

# Global variables for cleanup
CONTAINER_NAME=""
CLEANUP_DONE=false
```

**–®–∞–≥ 2**: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é cleanup –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```bash
# Cleanup function for signal handling
cleanup() {
    # Prevent multiple cleanup calls
    if [[ "$CLEANUP_DONE" == "true" ]]; then
        return 0
    fi
    CLEANUP_DONE=true

    local exit_code=$?

    if [[ -n "$CONTAINER_NAME" ]]; then
        log_info "üßπ –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: $CONTAINER_NAME"

        # Stop container if running
        if docker ps -q --filter "name=$CONTAINER_NAME" &>/dev/null; then
            docker stop "$CONTAINER_NAME" 2>/dev/null || true
        fi

        # Remove container if not in debug or no-del mode
        if [[ "${DEBUG_MODE:-false}" == "false" && "${NO_DEL_MODE:-false}" == "false" ]]; then
            docker rm -f "$CONTAINER_NAME" 2>/dev/null || true
            log_info "üóëÔ∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª–µ–Ω: $CONTAINER_NAME"
        else
            log_info "üíæ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏: $CONTAINER_NAME"
        fi
    fi

    exit $exit_code
}
```

**–®–∞–≥ 3**: –î–æ–±–∞–≤–∏—Ç—å trap-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ—Å–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ cleanup:

```bash
# Setup signal handlers
trap cleanup EXIT
trap 'echo ""; log_warning "‚ö†Ô∏è  –ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (Ctrl+C)"; cleanup; exit 130' INT
trap 'log_error "‚ùå –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª TERM"; cleanup; exit 143' TERM
```

**–®–∞–≥ 4**: –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–æ–∫–æ–ª–æ —Å—Ç—Ä–æ–∫–∏ 330):

```bash
# Generate container name and store in global variable
CONTAINER_NAME="${BASE_NAME}-${TIMESTAMP}"
log_info "üì¶ –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: $CONTAINER_NAME"
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ**
   ```bash
   ./glm-launch.sh
   # –í—ã–π—Ç–∏ –∏–∑ Claude –Ω–æ—Ä–º–∞–ª—å–Ω–æ
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–¥–∞–ª–µ–Ω (–µ—Å–ª–∏ –Ω–µ --debug/--no-del)
   ```

2. **–¢–µ—Å—Ç 2: –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ Ctrl+C**
   ```bash
   ./glm-launch.sh &
   # –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
   # –ù–∞–∂–∞—Ç—å Ctrl+C
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚ö†Ô∏è –ü—Ä–µ—Ä–≤–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º" + cleanup
   docker ps -a | grep glm-docker
   # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª–µ–Ω
   ```

3. **–¢–µ—Å—Ç 3: SIGTERM**
   ```bash
   ./glm-launch.sh &
   PID=$!
   sleep 5
   kill -TERM $PID
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚ùå –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª TERM" + cleanup
   ```

4. **–¢–µ—Å—Ç 4: Debug —Ä–µ–∂–∏–º**
   ```bash
   ./glm-launch.sh --debug &
   # –ù–∞–∂–∞—Ç—å Ctrl+C
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ù–ï —É–¥–∞–ª–µ–Ω + "üíæ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω"
   docker ps -a | grep glm-docker-debug
   # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ Ctrl+C
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ SIGTERM
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ debug/no-del —Ä–µ–∂–∏–º–∞—Ö
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö "–∑–æ–º–±–∏" –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–æ—Å–ª–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è

---

### P3: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–º–µ–Ω Docker-–æ–±—Ä–∞–∑–æ–≤

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ –∏–º–µ–Ω–∞ –æ–±—Ä–∞–∑–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É: `glm-docker-tools:latest`

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **docker-compose.yml** (—Å—Ç—Ä–æ–∫–∞ 5)
2. **scripts/test-claude.sh** (—Å—Ç—Ä–æ–∫–∞ 18)
3. **scripts/launch-multiple.sh** (—Å—Ç—Ä–æ–∫–∞ 9)
4. **glm-launch.sh** (—Å—Ç—Ä–æ–∫–∞ 54 - help text)

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–§–∞–π–ª 1: docker-compose.yml (—Å—Ç—Ä–æ–∫–∞ 5)**
```yaml
# –î–æ:
    image: anthropic/claude-code:latest

# –ü–æ—Å–ª–µ:
    image: glm-docker-tools:latest
```

**–§–∞–π–ª 2: scripts/test-claude.sh (—Å—Ç—Ä–æ–∫–∞ 18)**
```bash
# –î–æ:
IMAGE="${DOCKER_IMAGE:-anthropic/claude-code:latest}"

# –ü–æ—Å–ª–µ:
IMAGE="${DOCKER_IMAGE:-glm-docker-tools:latest}"
```

**–§–∞–π–ª 3: scripts/launch-multiple.sh (—Å—Ç—Ä–æ–∫–∞ 9)**
```bash
# –î–æ:
IMAGE="claude-code-docker:latest"

# –ü–æ—Å–ª–µ:
IMAGE="glm-docker-tools:latest"
```

**–§–∞–π–ª 4: glm-launch.sh (—Å—Ç—Ä–æ–∫–∞ 54 - help text)**
```bash
# –î–æ:
  Uses: claude-code-tools:latest

# –ü–æ—Å–ª–µ:
  Uses: glm-docker-tools:latest
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: Grep –ø—Ä–æ–≤–µ—Ä–∫–∞**
   ```bash
   # –ü–æ–∏—Å–∫ –≤—Å–µ—Ö —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ–±—Ä–∞–∑–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ
   grep -r "anthropic/claude-code" .
   grep -r "claude-code-docker" .
   grep -r "claude-code-tools" .
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

   grep -r "glm-docker-tools:latest" .
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω–æ–µ –∏–º—è
   ```

2. **–¢–µ—Å—Ç 2: Docker Compose**
   ```bash
   docker-compose config | grep image
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "image: glm-docker-tools:latest"
   ```

3. **–¢–µ—Å—Ç 3: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤**
   ```bash
   ./glm-launch.sh --help
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ help —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ–±—Ä–∞–∑

   ./scripts/test-claude.sh
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è glm-docker-tools:latest
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ï–¥–∏–Ω–æ–µ –∏–º—è –æ–±—Ä–∞–∑–∞ –≤–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—Ç–∞—Ä—ã–µ –∏–º–µ–Ω–∞
- ‚úÖ –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–æ–≤—ã–º –∏–º–µ–Ω–µ–º

---

## üöÄ –§–ê–ó–ê 2: –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### P4: –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–ó–∞–º–µ–Ω–∏—Ç—å macOS-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –∫–æ–º–∞–Ω–¥—É `stat -f%z` –Ω–∞ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **glm-launch.sh** (—Å—Ç—Ä–æ–∫–∞ 137)

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `get_file_size()` –ø–æ—Å–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ `log_*` (–æ–∫–æ–ª–æ —Å—Ç—Ä–æ–∫–∏ 80):

```bash
# Cross-platform file size function
get_file_size() {
    local file="$1"
    case "$OSTYPE" in
        darwin*)
            stat -f%z "$file" 2>/dev/null || echo "0"
            ;;
        linux*)
            stat -c%s "$file" 2>/dev/null || echo "0"
            ;;
        *)
            # Fallback for other systems
            find "$file" -printf "%s" 2>/dev/null || echo "0"
            ;;
    esac
}
```

**–®–∞–≥ 2**: –ó–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `stat -f%z` –Ω–∞ —Å—Ç—Ä–æ–∫–µ 137:

```bash
# –î–æ:
local size=$(stat -f%z "$settings_file" 2>/dev/null || echo "0")

# –ü–æ—Å–ª–µ:
local size=$(get_file_size "$settings_file")
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: macOS**
   ```bash
   # –ù–∞ macOS
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞, —Ñ–∞–π–ª—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è
   ```

2. **–¢–µ—Å—Ç 2: Linux**
   ```bash
   # –ù–∞ Linux (–∏–ª–∏ –≤ Linux –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
   docker run --rm -v $(pwd):/workspace alpine sh -c "
     apk add bash
     cd /workspace
     bash ./glm-launch.sh --help
   "
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
   ```

3. **–¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞**
   ```bash
   # –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
   echo "test" > /tmp/test.txt
   # –í —Å–∫—Ä–∏–ø—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤
   get_file_size /tmp/test.txt
   # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 5 (4 —Å–∏–º–≤–æ–ª–∞ + newline)
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ macOS
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Linux
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤
- ‚úÖ Fallback –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º

---

### P5: –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ JSON-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –≤ —Ñ–∞–π–ª.

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **glm-launch.sh** - –†–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 50)

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 33:

```bash
# Logging configuration
LOG_LEVEL="${CLAUDE_LOG_LEVEL:-INFO}"
LOG_FORMAT="${CLAUDE_LOG_FORMAT:-text}"  # text or json
LOG_FILE="${CLAUDE_LOG_FILE:-}"  # empty = no file logging
START_TIME=$(date +%s)
```

**–®–∞–≥ 2**: –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# Enhanced logging functions
log_message() {
    local level="$1"
    local message="$2"
    local timestamp=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
    local elapsed=$(($(date +%s) - START_TIME))

    if [[ "$LOG_FORMAT" == "json" ]]; then
        local json_log=$(cat <<EOF
{"timestamp":"$timestamp","level":"$level","message":"$message","elapsed_seconds":$elapsed,"container":"${CONTAINER_NAME:-none}"}
EOF
)
        echo "$json_log"
        [[ -n "$LOG_FILE" ]] && echo "$json_log" >> "$LOG_FILE"
    else
        # Text format (existing)
        local color=""
        case "$level" in
            INFO)    color="\033[0;36m" ;;  # Cyan
            SUCCESS) color="\033[0;32m" ;;  # Green
            WARNING) color="\033[0;33m" ;;  # Yellow
            ERROR)   color="\033[0;31m" ;;  # Red
        esac
        echo -e "${color}[${level}]${NC} $message"
        [[ -n "$LOG_FILE" ]] && echo "[${timestamp}] [${level}] $message" >> "$LOG_FILE"
    fi
}

log_info()    { log_message "INFO" "$1"; }
log_success() { log_message "SUCCESS" "$1"; }
log_warning() { log_message "WARNING" "$1"; }
log_error()   { log_message "ERROR" "$1"; }
```

**–®–∞–≥ 3**: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ –∫–æ–Ω—Ü–µ —Å–∫—Ä–∏–ø—Ç–∞ (–ø–µ—Ä–µ–¥ —Ñ–∏–Ω–∞–ª—å–Ω—ã–º exit):

```bash
# Log final metrics
if [[ "$LOG_FORMAT" == "json" ]]; then
    local end_time=$(date +%s)
    local total_time=$((end_time - START_TIME))
    log_message "INFO" "Session completed. Total time: ${total_time}s"
fi
```

**–®–∞–≥ 4**: –û–±–Ω–æ–≤–∏—Ç—å help —Å –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```bash
Environment Variables:
  CLAUDE_LOG_LEVEL=INFO|WARNING|ERROR  - Log level (default: INFO)
  CLAUDE_LOG_FORMAT=text|json          - Log format (default: text)
  CLAUDE_LOG_FILE=/path/to/file        - Log file path (optional)
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: Text –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**
   ```bash
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –¶–≤–µ—Ç–Ω–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –≤—ã–≤–æ–¥
   ```

2. **–¢–µ—Å—Ç 2: JSON –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   ```bash
   CLAUDE_LOG_FORMAT=json ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: JSON-—Å—Ç—Ä–æ–∫–∏ –≤ stdout
   ```

3. **–¢–µ—Å—Ç 3: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª**
   ```bash
   CLAUDE_LOG_FILE=/tmp/glm.log ./glm-launch.sh
   cat /tmp/glm.log
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª–µ
   ```

4. **–¢–µ—Å—Ç 4: JSON + —Ñ–∞–π–ª**
   ```bash
   CLAUDE_LOG_FORMAT=json CLAUDE_LOG_FILE=/tmp/glm.json ./glm-launch.sh
   cat /tmp/glm.json | jq .
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –í–∞–ª–∏–¥–Ω—ã–π JSON –≤ —Ñ–∞–π–ª–µ
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ text –∏ json —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é text)

---

## üéì –§–ê–ó–ê 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### P6: Pre-flight –ø—Ä–æ–≤–µ—Ä–∫–∏

**UAT**: [P6 UAT Plan](./uat/P6_preflight_checks_uat.md) ‚úÖ PASSED

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é Docker –≤–µ—Ä—Å–∏–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **glm-launch.sh** - –†–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `check_dependencies()` (—Å—Ç—Ä–æ–∫–∞ 101)

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `check_dependencies()`:

```bash
# Enhanced dependency check with validation
check_dependencies() {
    log_info "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."

    # Check Docker installation
    if ! command -v docker &> /dev/null; then
        log_error "‚ùå Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker Desktop: https://docker.com"
        exit 1
    fi

    # Check Docker daemon
    if ! docker info &> /dev/null; then
        log_error "‚ùå Docker daemon –Ω–µ –∑–∞–ø—É—â–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop."
        exit 1
    fi

    # Check Docker version
    local docker_version=$(docker version --format '{{.Server.Version}}' 2>/dev/null)
    local min_version="20.10.0"

    if ! version_gte "$docker_version" "$min_version"; then
        log_warning "‚ö†Ô∏è  Docker –≤–µ—Ä—Å–∏–∏ $docker_version < $min_version (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)"
    else
        log_success "‚úÖ Docker –≤–µ—Ä—Å–∏—è: $docker_version"
    fi

    # Check available disk space
    local required_space_mb=1000  # 1GB
    local available_space=$(df -m . | tail -1 | awk '{print $4}')

    if [[ "$available_space" -lt "$required_space_mb" ]]; then
        log_warning "‚ö†Ô∏è  –ú–∞–ª–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ: ${available_space}MB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ${required_space_mb}MB)"
    else
        log_success "‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ –º–µ—Å—Ç–∞: ${available_space}MB"
    fi

    # Check Docker Compose (optional)
    if command -v docker-compose &> /dev/null; then
        log_success "‚úÖ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
    else
        log_info "‚ÑπÔ∏è  Docker Compose –Ω–µ –Ω–∞–π–¥–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)"
    fi
}

# Version comparison function
version_gte() {
    local version="$1"
    local required="$2"

    # Simple version comparison (major.minor.patch)
    local v1=(${version//./ })
    local v2=(${required//./ })

    for i in 0 1 2; do
        local num1=${v1[$i]:-0}
        local num2=${v2[$i]:-0}

        if [[ $num1 -gt $num2 ]]; then
            return 0
        elif [[ $num1 -lt $num2 ]]; then
            return 1
        fi
    done

    return 0  # Equal versions
}
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω—ã**
   ```bash
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
   ```

2. **–¢–µ—Å—Ç 2: Docker –Ω–µ –∑–∞–ø—É—â–µ–Ω**
   ```bash
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚ùå Docker daemon –Ω–µ –∑–∞–ø—É—â–µ–Ω"
   ```

3. **–¢–µ—Å—Ç 3: –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Docker**
   ```bash
   # –í—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å –≤—ã–≤–æ–¥ docker version
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚ö†Ô∏è Docker –≤–µ—Ä—Å–∏–∏ X < 20.10.0"
   ```

4. **–¢–µ—Å—Ç 4: –ú–∞–ª–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –¥–∏—Å–∫–µ —Å –º–∞–ª—ã–º –æ–±—ä–µ–º–æ–º
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚ö†Ô∏è –ú–∞–ª–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ"
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Docker
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- ‚úÖ –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—É—Å–∫–∞

---

### P7: GitOps –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**UAT**: [P7 UAT Plan](./uat/P7_gitops_configuration_uat.md) ‚úÖ PASSED

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É .env —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞.

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É .env (–≤ –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–∞)
2. **.env.example** (–ù–û–í–´–ô) - –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É .env –≤ –Ω–∞—á–∞–ª–æ glm-launch.sh (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 25):

```bash
set -euo pipefail

# Load environment configuration
if [[ -f ".env" ]]; then
    log_info "üìù –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env"
    # Load .env with validation
    while IFS='=' read -r key value; do
        # Skip comments and empty lines
        [[ "$key" =~ ^#.*$ || -z "$key" ]] && continue

        # Remove quotes from value
        value="${value%\"}"
        value="${value#\"}"

        # Export variable
        export "$key=$value"
    done < .env
fi
```

**–®–∞–≥ 2**: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env.example:

```bash
# GLM Docker Tools Configuration
# Copy this file to .env and customize

# Docker image configuration
IMAGE_NAME=glm-docker-tools:latest
IMAGE_TAG=latest

# Container configuration
CLAUDE_LAUNCH_MODE=autodel  # autodel, debug, nodebug

# Volume mounts
CLAUDE_HOME=$HOME/.claude
WORKSPACE=$(pwd)

# Logging configuration
CLAUDE_LOG_LEVEL=INFO       # INFO, WARNING, ERROR
CLAUDE_LOG_FORMAT=text      # text, json
CLAUDE_LOG_FILE=            # Empty = no file logging

# API configuration
GLM_API_ENDPOINT=https://api.z.ai/api/anthropic
GLM_DEFAULT_MODEL=glm-4.6

# Resource limits
CONTAINER_MEMORY_LIMIT=4g
CONTAINER_CPU_LIMIT=2.0

# Cleanup configuration
AUTO_CLEANUP_ENABLED=true
CLEANUP_DAYS=7
KEEP_LAST_N_CONTAINERS=3

# Pre-flight checks
MIN_DOCKER_VERSION=20.10.0
MIN_DISK_SPACE_MB=1000
```

**–®–∞–≥ 3**: –û–±–Ω–æ–≤–∏—Ç—å .gitignore:

```bash
# Environment configuration
.env
.env.local
```

**–®–∞–≥ 4**: –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ glm-launch.sh –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ .env:

```bash
# Configuration (with .env defaults)
IMAGE="${IMAGE_NAME:-glm-docker-tools}:${IMAGE_TAG:-latest}"
DEBUG_MODE=false
NO_DEL_MODE=false

# Logging (from .env or defaults)
LOG_LEVEL="${CLAUDE_LOG_LEVEL:-INFO}"
LOG_FORMAT="${CLAUDE_LOG_FORMAT:-text}"
LOG_FILE="${CLAUDE_LOG_FILE:-}"
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –ë–µ–∑ .env —Ñ–∞–π–ª–∞**
   ```bash
   # –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ .env –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   rm -f .env
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   ```

2. **–¢–µ—Å—Ç 2: –° .env —Ñ–∞–π–ª–æ–º**
   ```bash
   cp .env.example .env
   # –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ .env
   echo "CLAUDE_LOG_FORMAT=json" >> .env
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: JSON –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   ```

3. **–¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**
   ```bash
   cp .env.example .env
   echo "IMAGE_NAME=custom-image" >> .env
   ./glm-launch.sh --help
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è custom-image
   ```

4. **–¢–µ—Å—Ç 4: .gitignore**
   ```bash
   git status
   # .env –Ω–µ –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ git status
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env
- ‚úÖ .env.example —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- ‚úÖ .env –≤ .gitignore
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –±–µ–∑ .env

---

## üìä –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
./glm-launch.sh --help

# 2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫
./glm-launch.sh

# 3. Debug —Ä–µ–∂–∏–º
./glm-launch.sh --debug

# 4. No-del —Ä–µ–∂–∏–º
./glm-launch.sh --no-del

# 5. Docker Compose
docker-compose up

# 6. –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
./scripts/test-claude.sh

# 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ cleanup
docker ps -a | grep glm-docker
```

### Regression —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
1. –ó–∞–ø—É—Å–∫ –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö
2. Volume mapping
3. GLM API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
4. Nano editor –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
5. Entrypoint –ª–æ–≥–∏–∫–∞
```

---

## üìù –ü–ª–∞–Ω –∫–æ–º–º–∏—Ç–æ–≤

### –§–∞–∑–∞ 1

```bash
git add glm-launch.sh
git commit -m "feat(P1): Add automatic Docker image build

- Add ensure_image() function
- Auto-build if image missing
- Validate Dockerfile exists
- Refs: docs/EXPERT_CONSENSUS_REVIEW.md"

git commit -m "feat(P2): Add signal handling and cleanup

- Add trap handlers for INT, TERM, EXIT
- Prevent zombie containers on Ctrl+C
- Preserve containers in debug/no-del modes
- Refs: docs/EXPERT_CONSENSUS_REVIEW.md"

git commit -m "refactor(P3): Unify Docker image names

- Standardize to glm-docker-tools:latest
- Update docker-compose.yml, test scripts
- Refs: docs/EXPERT_CONSENSUS_REVIEW.md"
```

### –§–∞–∑–∞ 2

```bash
git commit -m "feat(P4): Add cross-platform file size function

- Replace macOS-only stat command
- Support Linux, macOS, fallback
- Refs: docs/EXPERT_CONSENSUS_REVIEW.md"

git commit -m "feat(P5): Enhance logging with JSON support

- Add structured JSON logging
- Optional file logging
- Execution metrics
- Refs: docs/EXPERT_CONSENSUS_REVIEW.md"
```

### –§–∞–∑–∞ 3

```bash
git commit -m "feat(P6): Add pre-flight validation checks

- Validate Docker version
- Check disk space
- Better error messages
- Refs: docs/EXPERT_CONSENSUS_REVIEW.md"

git commit -m "feat(P7): Add GitOps configuration with .env

- Support .env configuration files
- Add .env.example template
- Backward compatible
- Refs: docs/EXPERT_CONSENSUS_REVIEW.md"
```

### –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç

```bash
git commit -m "docs: Update documentation for all improvements

- Update README.md with new features
- Update CONTAINER_LIFECYCLE_MANAGEMENT.md
- Add cross-references
- Version bump to 1.3.0"
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### ‚úÖ –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–ó–ê–í–ï–†–®–ï–ù–û 2025-12-26)
- [x] P1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (commit f9bc1e7)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3 —Ç–µ—Å—Ç–∞ - UAT v1.1 PASSED)
  - [x] –ö–æ–º–º–∏—Ç
- [x] P2: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (commit c413502)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4 —Ç–µ—Å—Ç–∞ - UAT v1.1 PASSED)
  - [x] –ö–æ–º–º–∏—Ç
- [x] P3: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–º–µ–Ω
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (commit 1837484)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3 —Ç–µ—Å—Ç–∞ - UAT v1.1 PASSED)
  - [x] –ö–æ–º–º–∏—Ç
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –§–∞–∑—ã 1
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### ‚úÖ –§–∞–∑–∞ 2: –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–ó–ê–í–ï–†–®–ï–ù–û 2025-12-29)
- [x] P4: –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (commit ef6ac0f)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3 —Ç–µ—Å—Ç–∞ - UAT v1.2 PASSED)
  - [x] –ö–æ–º–º–∏—Ç
- [x] P5: –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (commit 0a3c787)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4 —Ç–µ—Å—Ç–∞ - UAT v1.2 PASSED)
  - [x] –ö–æ–º–º–∏—Ç
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –§–∞–∑—ã 2
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### ‚úÖ –§–∞–∑–∞ 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ó–ê–í–ï–†–®–ï–ù–û 2025-12-30)
- [x] P6: Pre-flight –ø—Ä–æ–≤–µ—Ä–∫–∏
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (commit 5ebb8a9)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4 —Ç–µ—Å—Ç–∞ - UAT v2.0 PASSED)
  - [x] –ö–æ–º–º–∏—Ç
- [x] P7: GitOps –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (commit 9aaed50)
  - [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4 —Ç–µ—Å—Ç–∞ - UAT v2.0 PASSED)
  - [x] –ö–æ–º–º–∏—Ç
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –§–∞–∑—ã 3
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### ‚úÖ –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (–ó–ê–í–ï–†–®–ï–ù–û 2025-12-30)
- [x] Regression —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README.md
- [x] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ CHANGELOG.md
- [x] Version bump (1.2.0 ‚Üí 1.3.0)
- [x] –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç

---

## üéä –ò–°–¢–û–†–ò–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### üìä –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: 100% (7/7 –∑–∞–≤–µ—Ä—à–µ–Ω—ã)

| ID | Feature | –°—Ç–∞—Ç—É—Å | UAT | –î–∞—Ç–∞ | Commit |
|----|---------|--------|-----|------|--------|
| **P1** | Auto Docker Build | ‚úÖ Complete | ‚úÖ v1.1 PASSED | 2025-12-26 | f9bc1e7 |
| **P2** | Signal Handling | ‚úÖ Complete | ‚úÖ v1.1 PASSED | 2025-12-26 | c413502 |
| **P3** | Image Unification | ‚úÖ Complete | ‚úÖ v1.1 PASSED | 2025-12-29 | 1837484 |
| **P4** | Cross-platform | ‚úÖ Complete | ‚úÖ v1.2 PASSED | 2025-12-29 | ef6ac0f |
| **P5** | Enhanced Logging | ‚úÖ Complete | ‚úÖ v1.2 PASSED | 2025-12-29 | 0a3c787 |
| **P6** | Pre-flight Checks | ‚úÖ Complete | ‚úÖ v2.0 PASSED | 2025-12-30 | 5ebb8a9 |
| **P7** | GitOps Config | ‚úÖ Complete | ‚úÖ v2.0 PASSED | 2025-12-30 | 9aaed50 |

**Completion Rate**: 100% (7/7 features implemented and tested)

**UAT Methodology Evolution**:
- v1.1: User-executed tests (P1-P3)
- v1.2: AI-validated tests (P4-P5)
- v2.0: Hybrid AI-User testing (P6-P7) - 13-expert panel approved

**Total Commits**: 10+ commits across all phases

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|----|----|-----------|
| –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ | –í—Å–µ–≥–¥–∞ | –ù–∏–∫–æ–≥–¥–∞ | ‚úÖ 100% |
| –ó–æ–º–±–∏-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–∏ Ctrl+C | –ß–∞—Å—Ç–æ | –ù–∏–∫–æ–≥–¥–∞ | ‚úÖ 100% |
| –û—à–∏–±–∫–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏–º–µ–Ω | 5 –º–µ—Å—Ç | 0 | ‚úÖ 100% |
| –ü—Ä–æ–±–ª–µ–º—ã –Ω–∞ Linux | –î–∞ | –ù–µ—Ç | ‚úÖ 100% |
| –û—Ç–ª–∞–¥–∫–∞ –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã | –°–ª–æ–∂–Ω–æ | JSON –ª–æ–≥–∏ | ‚úÖ 90% |
| –û—à–∏–±–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ | –ò–Ω–æ–≥–¥–∞ | –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è | ‚úÖ 80% |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ | –•–∞—Ä–¥–∫–æ–¥ | .env —Ñ–∞–π–ª—ã | ‚úÖ 95% |

**–û–±—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞**: ~95%

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[Expert Consensus Review](./EXPERT_CONSENSUS_REVIEW.md)** - –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ—à–µ–Ω–∏–π
- **[Session Handoff](../SESSION_HANDOFF.md)** - –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞
- **[CLAUDE.md](../CLAUDE.md)** - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Claude Code

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **Issues**: [GitHub Issues](https://github.com/your-repo/issues)
- **Discussions**: [GitHub Discussions](https://github.com/your-repo/discussions)

---

## üîÆ –ë–£–î–£–©–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø (Backlog)

### P11: –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ ‚≠ê –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –í–ê–ñ–ù–û–°–¢–¨

**–°–≤—è–∑—å —Å P10**: P10 (Onboarding Bypass) –∑–∞–≤–µ—Ä—à–µ–Ω - –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ –æ–±—Ö–æ–¥ onboarding –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω. P11 —Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å.

**–°—Ç–∞—Ç—É—Å**: üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ (–æ—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ –æ—Ç P10)

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —á–µ—Ç–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏. **–í–∞–∂–Ω–æ:** –≠—Ç–æ –ù–ï –æ–±—Ö–æ–¥ onboarding, –∞ —É–ª—É—á—à–µ–Ω–∏–µ UX.

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `setup_first_time_user()`
2. **scripts/setup-claude-for-new-user.sh** (–ù–û–í–´–ô) - –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
3. **docs/FIRST_TIME_SETUP.md** (–ù–û–í–´–ô) - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. **README.md** - –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é Quick Start

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `setup_first_time_user()` –≤ glm-launch.sh:

```bash
# First-time user setup helper
setup_first_time_user() {
    local claude_json="$HOME/.claude/.claude.json"

    # Check if this is first run
    if [[ ! -f "$claude_json" ]] || ! jq -e '.oauthAccount' "$claude_json" >/dev/null 2>&1; then
        log_warning "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        log_warning "‚ö†Ô∏è  –ü–ï–†–í–´–ô –ó–ê–ü–£–°–ö CLAUDE CODE"
        log_warning "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        log_warning ""
        log_warning "Claude Code —Ç—Ä–µ–±—É–µ—Ç –û–î–ù–û–ö–†–ê–¢–ù–û–ô –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ Anthropic."
        log_warning "–≠—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô —à–∞–≥ –¥–ª—è —Ä–∞–±–æ—Ç—ã Claude Code."
        log_warning ""
        log_warning "‚úÖ –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:"
        log_warning "   ‚Ä¢ Z.AI API –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ api.z.ai"
        log_warning "   ‚Ä¢ –ù–µ –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å Anthropic (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Z.AI –∫–ª—é—á)"
        log_warning "   ‚Ä¢ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ Z.AI —Å–µ—Ä–≤–µ—Ä—ã"
        log_warning ""
        log_warning "‚ùå –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:"
        log_warning "   ‚Ä¢ Claude Code –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å"
        log_warning "   ‚Ä¢ –û–±—Ö–æ–¥ onboarding —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω"
        log_warning ""
        log_warning "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
        log_warning ""
        log_info "üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: docs/FIRST_TIME_SETUP.md"
        log_info ""
        log_info "–í –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã..."
        sleep 3

        return 0
    fi

    log_success "‚úÖ Claude Code —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω"
    return 0
}
```

**–®–∞–≥ 2**: –í—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ `run_claude()`:

```bash
# Before launching Claude Code
setup_first_time_user
```

**–®–∞–≥ 3**: –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `scripts/setup-claude-for-new-user.sh`:

```bash
#!/bin/bash
# setup-claude-for-new-user.sh
# –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

set -euo pipefail

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
CYAN='\033[0;36m'
NC='\033[0m' # No Color

echo -e "${CYAN}"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Claude Code –¥–ª—è Z.AI"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo -e "${NC}"
echo ""
echo -e "${YELLOW}‚ö†Ô∏è  –í–ê–ñ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø${NC}"
echo ""
echo "Claude Code —Ç—Ä–µ–±—É–µ—Ç –û–î–ù–û–ö–†–ê–¢–ù–û–ô –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ Anthropic."
echo "–≠—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô —à–∞–≥ –¥–ª—è —Ä–∞–±–æ—Ç—ã Claude Code."
echo ""
echo -e "${GREEN}‚úÖ –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:${NC}"
echo "   ‚Ä¢ Z.AI API –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ api.z.ai"
echo "   ‚Ä¢ –ù–µ –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å Anthropic (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Z.AI –∫–ª—é—á)"
echo "   ‚Ä¢ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ Z.AI —Å–µ—Ä–≤–µ—Ä—ã"
echo ""
echo -e "${RED}‚ùå –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:${NC}"
echo "   ‚Ä¢ Claude Code –Ω–µ —Å–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å"
echo "   ‚Ä¢ –û–±—Ö–æ–¥ onboarding —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω"
echo ""
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo ""
read -p "–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Claude Code..."

# –ó–∞–ø—É—Å–∫
cd "$(dirname "$0")/.."
./glm-launch.sh
```

**–®–∞–≥ 4**: –°–æ–∑–¥–∞—Ç—å `docs/FIRST_TIME_SETUP.md`:

```markdown
# –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ Claude Code —Å Z.AI

> üìö **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: [Home](../README.md) > **First Time Setup**

## üöÄ Quick Start (5 –º–∏–Ω—É—Ç)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ü–ï–†–ï–î –Ω–∞—á–∞–ª–æ–º

**‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ:**

Claude Code —Ç—Ä–µ–±—É–µ—Ç **–û–î–ù–û–ö–†–ê–¢–ù–û–ô** –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ Anthropic. –≠—Ç–æ **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô** —à–∞–≥.

**‚úÖ –•–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å:**

–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- Z.AI API –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ `api.z.ai`
- **–ù–ï –Ω—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å Anthropic** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Z.AI –∫–ª—é—á)
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ Z.AI —Å–µ—Ä–≤–µ—Ä—ã

---

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

\`\`\`bash
cd ~/coding/projects/glm-docker-tools
./scripts/setup-claude-for-new-user.sh
\`\`\`

### –®–∞–≥ 2: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä
2. –í–æ–π–¥–∏—Ç–µ –≤ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç Anthropic –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
3. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω** - –ù–ï –Ω—É–∂–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

### –®–∞–≥ 3: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

–ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ "Do you want to use this API key?" - –≤—ã–±–µ—Ä–∏—Ç–µ **"Yes"**

### –®–∞–≥ 4: –ì–æ—Ç–æ–≤–æ!

Claude Code –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å Z.AI API.

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ù—É–∂–Ω–æ –ª–∏ –ø–ª–∞—Ç–∏—Ç—å Anthropic?

**–ù–ï–¢!** –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç Anthropic –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ Z.AI API.

### –ü–æ—á–µ–º—É –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Anthropic?

–≠—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Claude Code. –û–±—Ö–æ–¥ onboarding —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω.

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [P10 Onboarding Bypass Research](./P10_ONBOARDING_BYPASS_RESEARCH.md)

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞?

–ù–ï–¢. Claude Code —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ API –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **[P10 Research](./P10_ONBOARDING_BYPASS_RESEARCH.md)** - –ü–æ—á–µ–º—É –Ω—É–∂–µ–Ω onboarding
- **[GLM Configuration Guide](./GLM_CONFIGURATION_GUIDE.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Z.AI API
- **[Issues](https://github.com/RussianLioN/glm-docker-tools/issues)** - –°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**
   ```bash
   # –£–¥–∞–ª–∏—Ç—å ~/.claude/.claude.json
   rm ~/.claude/.claude.json
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ü–ï–†–í–´–ô –ó–ê–ü–£–°–ö"
   ```

2. **–¢–µ—Å—Ç 2: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫**
   ```bash
   # –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: "‚úÖ Claude Code —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω"
   ```

3. **–¢–µ—Å—Ç 3: –°–∫—Ä–∏–ø—Ç setup-claude-for-new-user.sh**
   ```bash
   ./scripts/setup-claude-for-new-user.sh
   # –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ß–µ—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ + –∑–∞–ø—É—Å–∫
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ß–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### üîó –°–≤—è–∑—å —Å P10

- **P10 (–∑–∞–≤–µ—Ä—à–µ–Ω)**: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ –æ–±—Ö–æ–¥ onboarding –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω
- **P11 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)**: –£–ª—É—á—à–µ–Ω–∏–µ UX –ø—Ä–æ—Ü–µ—Å—Å–∞ onboarding (–ù–ï –æ–±—Ö–æ–¥)

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [P10 Onboarding Bypass Research](./P10_ONBOARDING_BYPASS_RESEARCH.md)

---

### P12: Workspace Independence ‚≠ê –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –í–ê–ñ–ù–û–°–¢–¨

**–°—Ç–∞—Ç—É—Å**: üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ (separate improvement task)

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** Claude Code –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞, –∞ —Ç–µ–∫—É—â–∞—è —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–∏–∑ –∫–æ—Ç–æ—Ä–æ–π –∑–∞–ø—É—â–µ–Ω `glm-launch.sh`) –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –º–∞–ø–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

**–¢–µ–∫—É—â–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –°–∫—Ä–∏–ø—Ç `glm-launch.sh` –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ `~/coding/projects/glm-docker-tools/`, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –ª—é–±–æ–π –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `~/coding/projects/glm-docker-tools/src/components/`).

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –º–∞–ø–ø–∏–Ω–≥ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–π (Read, Edit, Bash) —Å —Ñ–∞–π–ª–∞–º–∏ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `find_project_root()` –∏ –æ–±–Ω–æ–≤–∏—Ç—å `WORKSPACE`
2. **docker-compose.yml** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –û–±–Ω–æ–≤–∏—Ç—å volume mapping –¥–ª—è —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
3. **docs/SCRIPT_LOGIC.md** - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `find_project_root()` –≤ glm-launch.sh:

```bash
# Find project root directory (where .git or specific marker file exists)
find_project_root() {
    local current_dir="$(pwd)"

    # Search upward for project root markers
    while [[ "$current_dir" != "/" ]]; do
        # Check for project markers (choose one or more):
        # 1. .git directory
        # 2. glm-launch.sh script itself
        # 3. .claude/settings.json
        # 4. Dockerfile

        if [[ -d "$current_dir/.git" ]] ||
           [[ -f "$current_dir/glm-launch.sh" ]] ||
           [[ -f "$current_dir/Dockerfile" ]]; then
            echo "$current_dir"
            return 0
        fi

        # Move up one directory
        current_dir="$(dirname "$current_dir")"
    done

    # Fallback: use script's directory
    echo "$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
}
```

**–®–∞–≥ 2**: –û–±–Ω–æ–≤–∏—Ç—å `WORKSPACE` –≤ glm-launch.sh:

```bash
# –ù—ã–Ω–µ—à–Ω–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
# WORKSPACE="$(pwd)"  # –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞

# –ù–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:
PROJECT_ROOT="$(find_project_root)"
WORKSPACE="$(pwd)"  # –¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# Volume mapping –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ:
# -v "$PROJECT_ROOT:/workspace:cached"  # –ü—Ä–æ–µ–∫—Ç (read-write cache)
# -v "$WORKSPACE:/workspace/current"     # –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (read-write)
```

**–®–∞–≥ 3**: –û–±–Ω–æ–≤–∏—Ç—å volume mapping –≤ `run_docker()`:

```bash
# Map both project root and current directory
DOCKER_RUN=(
    docker run --rm -it $DOCKER_INTERACTIVE
        -v "$CLAUDE_HOME:/root/.claude"
        -v "$PROJECT_ROOT:/workspace:cached"
        -v "$WORKSPACE:/workspace/current"
        -w "/workspace/current"  # Working directory inside container
        "$IMAGE" "$@"
)
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –ó–∞–ø—É—Å–∫ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞**
   ```bash
   cd ~/coding/projects/glm-docker-tools
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: WORKSPACE = /workspace, —Ñ–∞–π–ª—ã –≤–∏–¥–Ω—ã
   ```

2. **–¢–µ—Å—Ç 2: –ó–∞–ø—É—Å–∫ –∏–∑ –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏**
   ```bash
   cd ~/coding/projects/glm-docker-tools/src/components
   ../../glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: WORKSPACE = /workspace/current/src/components
   # –î–æ—Å—Ç—É–ø–Ω—ã —Ñ–∞–π–ª—ã –∏ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞, –∏ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   ```

3. **–¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞ —Ñ–∞–π–ª–æ–≤**
   ```bash
   cd ~/coding/projects/glm-docker-tools/src
   ../../glm-launch.sh
   # –í Claude Code:
   Read("./README.md")  # –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
   Read("file.txt")      # –ò–∑ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
   ```

4. **–¢–µ—Å—Ç 4: –ó–∞–ø—É—Å–∫ –≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**
   ```bash
   cd /tmp
   ~/coding/projects/glm-docker-tools/glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ PROJECT_ROOT
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –°–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –º–∞–ø–ø–∏–Ω–≥ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

#### üîó –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏

- **P1-P7**: –ù–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)
- **P11**: –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –∑–∞–¥–∞—á–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
- **P8-P9**: –ù–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç (defensive improvements)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–ª—É—á—à–∞–µ—Ç UX –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

### P13: Shell-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ ‚≠ê –í–ê–ñ–ù–ê–Ø –í–ê–ñ–ù–û–°–¢–¨

**–°—Ç–∞—Ç—É—Å**: üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø—É—Å–∫ `glm-launch.sh` —Ç—Ä–µ–±—É–µ—Ç –ª–∏–±–æ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –ª–∏–±–æ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏ –∫ —Å–∫—Ä–∏–ø—Ç—É. –≠—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å shell-—Ñ—É–Ω–∫—Ü–∏–∏ (–∞–ª–∏–∞—Å—ã), –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å Claude Code –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏.

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `glm` –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º —Å –º–∞–ø–ø–∏–Ω–≥–æ–º —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `glm-debug` –∑–∞–ø—É—Å–∫–∞–µ—Ç debug —Ä–µ–∂–∏–º
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `glm-no-del` –∑–∞–ø—É—Å–∫–∞–µ—Ç persistent —Ä–µ–∂–∏–º
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **scripts/glm-aliases.sh** - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏
2. **README.md** - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–ª–∏–∞—Å–æ–≤
3. **docs/SCRIPT_LOGIC.md** - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `scripts/glm-aliases.sh`:

```bash
# glm-aliases.sh - Shell —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Claude Code
# Source this file in ~/.bashrc or ~/.zshrc:
#   source ~/coding/projects/glm-docker-tools/scripts/glm-aliases.sh

# –ù–∞–π—Ç–∏ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
_glm_find_project_root() {
    local current_dir="$(pwd)"
    while [[ "$current_dir" != "/" ]]; do
        if [[ -f "$current_dir/glm-launch.sh" ]] || \
           [[ -f "$current_dir/Dockerfile" ]] || \
           [[ -d "$current_dir/.git" ]]; then
            echo "$current_dir"
            return 0
        fi
        current_dir="$(dirname "$current_dir")"
    done
    return 1
}

# –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞
_glm() {
    local project_root="$(_glm_find_project_root)"
    if [[ -z "$project_root" ]]; then
        echo "‚ùå GLM: –ù–µ –Ω–∞–π–¥–µ–Ω –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (glm-launch.sh)" >&2
        return 1
    fi

    local launcher="$project_root/glm-launch.sh"
    if [[ ! -f "$launcher" ]]; then
        echo "‚ùå GLM: –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω: $launcher" >&2
        return 1
    fi

    # –ó–∞–ø—É—Å–∫ —Å —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π
    "$launcher" "$@"
}

# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫
glm() {
    _glm "$@"
}

# Debug —Ä–µ–∂–∏–º (persistent container)
glm-debug() {
    _glm --debug "$@"
}

# No-del —Ä–µ–∂–∏–º (persistent –±–µ–∑ auto-delete)
glm-no-del() {
    _glm --no-del "$@"
}

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
glm-help() {
    cat <<'EOF'
üöÄ GLM Aliases - Claude Code Launcher

–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
  glm [–∞—Ä–≥—É–º–µ–Ω—Ç—ã]     - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ (auto-delete container)
  glm-debug [–∞—Ä–≥—É–º–µ–Ω—Ç—ã] - Debug —Ä–µ–∂–∏–º (persistent container)
  glm-no-del [–∞—Ä–≥—É–º–µ–Ω—Ç—ã] - Persistent —Ä–µ–∂–∏–º (no auto-delete)
  glm-help            - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
  glm                    # –ó–∞–ø—É—Å–∫ –∏–∑ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
  glm-debug             # –ó–∞–ø—É—Å–∫ —Å debug shell –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  glm-no-del            # –ó–∞–ø—É—Å–∫ persistent –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ glm-launch.sh

–°–º. —Ç–∞–∫–∂–µ: glm-launch.sh --help
EOF
}
```

**–®–∞–≥ 2**: –û–±–Ω–æ–≤–∏—Ç—å `README.md` - –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é:

```markdown
## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (Shell-–∞–ª–∏–∞—Å—ã)

–î–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –≤–∞—à `~/.bashrc` –∏–ª–∏ `~/.zshrc`:

\`\`\`bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
source ~/coding/projects/glm-docker-tools/scripts/glm-aliases.sh
\`\`\`

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (–∏–ª–∏ `source ~/.bashrc`) –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `glm` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ |
| `glm-debug` | Debug —Ä–µ–∂–∏–º |
| `glm-no-del` | Persistent —Ä–µ–∂–∏–º |
| `glm-help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∞–ª–∏–∞—Å–∞–º |

**–ü—Ä–∏–º–µ—Ä—ã:**
\`\`\`bash
# –ò–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
cd ~/coding/projects/glm-docker-tools/src/components
glm                    # –ó–∞–ø—É—Å–∫ —Å –º–∞–ø–ø–∏–Ω–≥–æ–º —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏

# Debug —Ä–µ–∂–∏–º –¥–ª—è troubleshooting
glm-debug             # –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è - shell –¥–æ—Å—Ç—É–ø
\`\`\`
```

**–®–∞–≥ 3**: –°–æ–∑–¥–∞—Ç—å `scripts/glm-aliases.sh.example` –¥–ª—è custom –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```bash
# –ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∞–ª–∏–∞—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# Source –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞: source scripts/glm-aliases.sh

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∞–ª–∏–∞—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
glm-tls() {
    # –ó–∞–ø—É—Å–∫ —Å TLS verify –æ—Ç–∫–ª—é—á–µ–Ω
    _glm --tls-verify=false "$@"
}

glm-local() {
    # –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º API
    _glm --local-only "$@"
}

# –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã!
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏**
   ```bash
   cd ~/coding/projects/glm-docker-tools/src
   glm
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, —Ç–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞ –∑–∞–º–∞–ø–ª–µ–Ω–∞
   ```

2. **–¢–µ—Å—Ç 2: Debug —Ä–µ–∂–∏–º**
   ```bash
   glm-debug
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: Persistent –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä + shell –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
   ```

3. **–¢–µ—Å—Ç 3: –ó–∞–ø—É—Å–∫ –≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**
   ```bash
   cd /tmp
   glm
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º
   ```

4. **–¢–µ—Å—Ç 4: glm-help**
   ```bash
   glm-help
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –°–ø—Ä–∞–≤–∫–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ê–ª–∏–∞—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –í—Å–µ —Ä–µ–∂–∏–º—ã (standard, debug, no-del) —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ README.md
- ‚úÖ –ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –≤ example —Ñ–∞–π–ª–µ

#### üîó –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏

- **P12**: –ö–æ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞—è –∑–∞–¥–∞—á–∞
  - P12: –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏ (—Ç—Ä–µ–±—É–µ—Ç `./path/to/glm-launch.sh`)
  - P13: –ê–ª–∏–∞—Å—ã –¥–µ–ª–∞—é—Ç –∑–∞–ø—É—Å–∫ —É–¥–æ–±–Ω—ã–º (`glm` –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –í—ã–ø–æ–ª–Ω–∏—Ç—å P12 —Å–Ω–∞—á–∞–ª–∞, –∑–∞—Ç–µ–º P13 –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ UX

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: ‚≠ê **–í–ê–ñ–ù–´–ô** - –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç UX –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã

---

### P14: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ ‚≠ê –í–ê–ñ–ù–ê–Ø –í–ê–ñ–ù–û–°–¢–¨

**–°—Ç–∞—Ç—É—Å**: üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `vim`, `jq`, `curl`, `git`) —Ç—Ä–µ–±—É–µ—Ç:
1. –†—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Dockerfile
2. –†—É—á–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
3. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞.

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –æ–±—Ä–∞–∑
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Dockerfile
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ Dockerfile –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
2. **scripts/apps-manager.sh** (–Ω–æ–≤—ã–π) - –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. **Dockerfile** - –û–±–Ω–æ–≤–∏—Ç—å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
4. **docs/SCRIPT_LOGIC.md** - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –°–æ–∑–¥–∞—Ç—å `scripts/apps-manager.sh`:

```bash
#!/bin/bash
# apps-manager.sh - –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

# –•—ç—à —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Dockerfile
DOCKERFILE_HASH_FILE=".dockerfile.hash"
DOCKERFILE_PATH="Dockerfile"

# –í—ã—á–∏—Å–ª–∏—Ç—å —Ö—ç—à Dockerfile (—Ç–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏—è RUN apt-get)
calculate_dockerfile_hash() {
    # –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ —Å apt-get installations
    grep -A 100 "RUN apt-get update" "$DOCKERFILE_PATH" 2>/dev/null | \
        grep "apt-get install" | \
        md5sum | \
        awk '{print $1}'
}

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏–∑–º–µ–Ω–∏–ª—Å—è –ª–∏ Dockerfile
check_dockerfile_changed() {
    local current_hash=$(calculate_dockerfile_hash)

    if [[ ! -f "$DOCKERFILE_HASH_FILE" ]]; then
        echo "changed"
        return 0
    fi

    local stored_hash=$(cat "$DOCKERFILE_HASH_FILE" 2>/dev/null)

    if [[ "$current_hash" != "$stored_hash" ]]; then
        echo "changed"
        return 0
    fi

    echo "unchanged"
    return 1
}

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ö—ç—à
save_dockerfile_hash() {
    calculate_dockerfile_hash > "$DOCKERFILE_HASH_FILE"
}

# –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
list_installed_apps() {
    echo "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:"
    docker run --rm "$IMAGE" dpkg -l | grep -E "ii  (vim|jq|curl|git|node|python|ruby|golang|terraform|kubectl|helm)" | awk '{print "  - " $2}'
}

# –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Dockerfile
add_app_to_dockerfile() {
    local app_name="$1"

    if [[ -z "$app_name" ]]; then
        echo "‚ùå –£–∫–∞–∂–∏—Ç–µ –∏–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
        return 1
    fi

    # –ù–∞–π—Ç–∏ —Å—Ç—Ä–æ–∫—É —Å apt-get install –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    if grep -q "apt-get install.*\\${app_name}" "$DOCKERFILE_PATH"; then
        echo "‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ $app_name —É–∂–µ –≤ Dockerfile"
        return 0
    fi

    # –°–æ–∑–¥–∞—Ç—å backup
    cp "$DOCKERFILE_PATH" "$DOCKERFILE_PATH.bak"

    # –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
    echo "üìù –û—Ç–∫—Ä—ã–≤–∞—é Dockerfile –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."
    sleep 1

    # –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    read -p "–î–æ–±–∞–≤–∏—Ç—å $app_name –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏? (y/n): " -n 1 -r
    echo

    if [[ $REPLY =~ ^[Yy]$ ]]; then
        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
        sed -i.bak "s/RUN apt-get install -y --no-install-recommends/RUN apt-get install -y --no-install-recommends \\\\\n    $app_name/" "$DOCKERFILE_PATH"
        echo "‚úÖ $app_name –¥–æ–±–∞–≤–ª–µ–Ω –≤ Dockerfile"

        # –ü–æ–∫–∞–∑–∞—Ç—å diff
        echo "üìä –ò–∑–º–µ–Ω–µ–Ω–∏—è:"
        diff -u "$DOCKERFILE_PATH.bak" "$DOCKERFILE_PATH" || true

        return 0
    else
        echo "üìù –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–±–∞–≤—å—Ç–µ $app_name –≤ Dockerfile –≤—Ä—É—á–Ω—É—é"
        return 1
    fi
}
```

**–®–∞–≥ 2**: –û–±–Ω–æ–≤–∏—Ç—å `glm-launch.sh` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

```bash
# –í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ—Å–ª–µ check_dependencies()
check_dockerfile_updates() {
    if [[ ! -f "Dockerfile" ]]; then
        return 0
    fi

    # –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ—Ä–µ–∑ apps-manager
    if [[ -f "scripts/apps-manager.sh" ]]; then
        local status=$(source scripts/apps-manager.sh && check_dockerfile_changed)

        if [[ "$status" == "changed" ]]; then
            log_warning "‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Dockerfile!"

            echo ""
            echo "Dockerfile –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑."
            echo ""
            read -p "–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ —Å–µ–π—á–∞—Å? (y/n): " -n 1 -r
            echo

            if [[ $REPLY =~ ^[Yy]$ ]]; then
                log_info "üî® –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞..."
                docker build -t "$IMAGE" .
                source scripts/apps-manager.sh && save_dockerfile_hash
                log_success "‚úÖ –û–±—Ä–∞–∑ –æ–±–Ω–æ–≤–ª–µ–Ω"
            else
                log_warning "‚ö†Ô∏è –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –æ–±—Ä–∞–∑–æ–º"
            fi
        fi
    fi
}

# –í—ã–∑–æ–≤ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
check_dockerfile_updates
```

**–®–∞–≥ 3**: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `--rebuild` –≤ `glm-launch.sh`:

```bash
case "$1" in
    --rebuild)
        log_info "üî® –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞..."
        docker build -t "$IMAGE" .
        if [[ -f "scripts/apps-manager.sh" ]]; then
            source scripts/apps-manager.sh && save_dockerfile_hash
        fi
        log_success "‚úÖ –û–±—Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω"
        exit 0
        ;;
esac
```

**–®–∞–≥ 4**: –û–±–Ω–æ–≤–∏—Ç—å Dockerfile –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏:

```dockerfile
# –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∫—É –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
LABEL apps.version="1.0"
LABEL apps.hash="${DOCKERFILE_HASH}"
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
   ```bash
   # –ò–∑–º–µ–Ω–∏—Ç—å Dockerfile (–¥–æ–±–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç)
   echo "RUN apt-get install -y vim" >> Dockerfile

   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –ó–∞–ø—Ä–æ—Å –Ω–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞
   ```

2. **–¢–µ—Å—Ç 2: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞**
   ```bash
   ./glm-launch.sh --rebuild
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –û–±—Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω, —Ö—ç—à –æ–±–Ω–æ–≤–ª–µ–Ω
   ```

3. **–¢–µ—Å—Ç 3: –°–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
   ```bash
   source scripts/apps-manager.sh
   list_installed_apps
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
   ```

4. **–¢–µ—Å—Ç 4: –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
   ```bash
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ (–µ—Å–ª–∏ Dockerfile –Ω–µ –º–µ–Ω—è–ª—Å—è)
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Dockerfile
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `--rebuild` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
- ‚úÖ –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ List –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ apps-manager)

#### üîó –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏

- **P1**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ P1 (Automatic Docker Build)
  - P1: –ë–∞–∑–æ–≤–∞—è –∞–≤—Ç–æ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
  - P14: –£–º–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π + –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **P8 (Backup)**: –•—ç—à-—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ .gitignore
- **P12/P13**: –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –∑–∞–¥–∞—á–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: ‚≠ê **–í–ê–ñ–ù–´–ô** - —É–ª—É—á—à–µ–Ω–∏–µ UX –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

---

### P15: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Claude Code üìã –ù–û–†–ú–ê–õ–¨–ù–ê–Ø –í–ê–ñ–ù–û–°–¢–¨

**–°—Ç–∞—Ç—É—Å**: üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–µ—Ä—Å–∏—è Claude Code –≤ Docker –æ–±—Ä–∞–∑–µ –º–æ–∂–µ—Ç —É—Å—Ç–∞—Ä–µ–≤–∞—Ç—å. –ù–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ Claude Code –≤—ã—Ö–æ–¥—è—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ —Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏, –Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π Claude Code —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –æ–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑.

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é Claude Code –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ npm/GitHub
- ‚úÖ –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è - –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (`--update-claude`)
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–∏ Claude Code
2. **scripts/claude-updater.sh** (–Ω–æ–≤—ã–π) - –ú–µ–Ω–µ–¥–∂–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Claude Code
3. **Dockerfile** - –û–±–Ω–æ–≤–∏—Ç—å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –≤–µ—Ä—Å–∏–∏
4. **docs/SCRIPT_LOGIC.md** - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –°–æ–∑–¥–∞—Ç—å `scripts/claude-updater.sh`:

```bash
#!/bin/bash
# claude-updater.sh - –ú–µ–Ω–µ–¥–∂–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Claude Code

# –§–∞–π–ª –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏
CLAUDE_VERSION_FILE=".claude.version"
CLAUDE_VERSION_CACHE=".claude.version.cache"
CLAUDE_VERSION_CHECK_INTERVAL=86400  # 24 —á–∞—Å–∞

# –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é Claude Code –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
get_current_claude_version() {
    local version=$(docker run --rm "$IMAGE" claude --version 2>/dev/null | head -1)
    if [[ -z "$version" ]]; then
        # Fallback: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ npm list –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
        version=$(docker run --rm "$IMAGE" npm list -g @anthropic-ai/claude-code 2>/dev/null | grep @anthropic-ai/claude-code | awk '{print $2}')
    fi
    echo "$version"
}

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é Claude Code –∏–∑ npm
get_latest_claude_version() {
    local latest=$(npm view @anthropic-ai/claude-code version 2>/dev/null)
    echo "$latest"
}

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω—É–∂–Ω–∞ –ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ (–ø–æ –≤—Ä–µ–º–µ–Ω–∏)
should_check_version() {
    if [[ ! -f "$CLAUDE_VERSION_CACHE" ]]; then
        return 0  # –ö—ç—à–∞ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—è–µ–º
    fi

    local cache_time=$(stat -c %Y "$CLAUDE_VERSION_CACHE" 2>/dev/null || stat -f %m "$CLAUDE_VERSION_CACHE")
    local current_time=$(date +%s)
    local elapsed=$((current_time - cache_time))

    if [[ $elapsed -ge $CLAUDE_VERSION_CHECK_INTERVAL ]]; then
        return 0  # –ü—Ä–æ—à—ë–ª –∏–Ω—Ç–µ—Ä–≤–∞–ª - –ø—Ä–æ–≤–µ—Ä—è–µ–º
    fi

    return 1  # –ï—â—ë —Ä–∞–Ω–æ - –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º
}

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ –∫—ç—à
save_version_cache() {
    local version="$1"
    echo "$version" > "$CLAUDE_VERSION_CACHE"
}

# –°—Ä–∞–≤–Ω–∏—Ç—å –≤–µ—Ä—Å–∏–∏ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –µ—Å–ª–∏ v1 > v2, 1 –µ—Å–ª–∏ v1 <= v2)
compare_versions() {
    if [[ "$1" == "$2" ]]; then
        return 1  # –†–∞–≤–Ω—ã
    fi

    local IFS=.
    local i ver1=($1) ver2=($2)

    # –ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —á–∞—Å—Ç–∏ –Ω—É–ª—è–º–∏
    for ((i=${#ver1[@]}; i<${#ver2[@]}; i++)); do
        ver1[i]=0
    done
    for ((i=${#ver2[@]}; i<${#ver1[@]}; i++)); do
        ver2[i]=0
    done

    for ((i=0; i<${#ver1[@]}; i++)); do
        if [[ -z ${ver1[i]} ]]; then ver1[i]=0; fi
        if [[ -z ${ver2[i]} ]]; then ver2[i]=0; fi
        if ((10#${ver1[i]} > 10#${ver2[i]})); then
            return 0  # v1 > v2
        fi
        if ((10#${ver1[i]} < 10#${ver2[i]})); then
            return 1  # v1 < v2
        fi
    done

    return 1  # –†–∞–≤–Ω—ã
}

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
check_claude_updates() {
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏
    if ! should_check_version; then
        return 1  # –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º
    fi

    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–∫–ª—é—á–µ–Ω—ã –ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    if [[ "${CLAUDE_AUTO_UPDATE:-true}" == "false" ]]; then
        return 1  # –û—Ç–∫–ª—é—á–µ–Ω—ã
    fi

    local current_version=$(get_current_claude_version)
    local latest_version=$(get_latest_claude_version)

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
    save_version_cache "$latest_version"

    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –≤–µ—Ä—Å–∏–∏
    if compare_versions "$latest_version" "$current_version"; then
        echo "update_available:$latest_version:$current_version"
        return 0  # –î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    fi

    return 1  # –û–±–Ω–æ–≤–ª–µ–Ω–∏–π –Ω–µ—Ç
}

# –û–±–Ω–æ–≤–∏—Ç—å Claude Code –≤ –æ–±—Ä–∞–∑–µ
update_claude_in_image() {
    local new_version="$1"

    log_info "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Claude Code –¥–æ $new_version..."

    # –û–±–Ω–æ–≤–ª—è–µ–º Dockerfile
    if [[ -f "Dockerfile" ]]; then
        # Backup
        cp Dockerfile Dockerfile.bak

        # –û–±–Ω–æ–≤–ª—è–µ–º –≤–µ—Ä—Å–∏—é –≤ Dockerfile
        sed -i.bak "s/RUN npm install -g @anthropic-ai\/claude-code@.*/RUN npm install -g @anthropic-ai\/claude-code@${new_version}/" Dockerfile

        # –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑
        docker build -t "$IMAGE" .

        # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º backup –ø—Ä–∏ –æ—à–∏–±–∫–µ
        if [[ $? -ne 0 ]]; then
            log_error "‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞"
            mv Dockerfile.bak Dockerfile
            return 1
        fi

        # –û–±–Ω–æ–≤–ª—è–µ–º –≤–µ—Ä—Å–∏—é
        echo "$new_version" > "$CLAUDE_VERSION_FILE"
        log_success "‚úÖ Claude Code –æ–±–Ω–æ–≤–ª–µ–Ω –¥–æ $new_version"
    fi
}
```

**–®–∞–≥ 2**: –û–±–Ω–æ–≤–∏—Ç—å `glm-launch.sh` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

```bash
# –í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ—Å–ª–µ check_dockerfile_updates()
check_claude_updates() {
    if [[ ! -f "scripts/claude-updater.sh" ]]; then
        return 0
    fi

    # –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
    local result=$(source scripts/claude-updater.sh && check_claude_updates)

    if [[ $result == update_available:* ]]; then
        local latest_version=$(echo "$result" | cut -d: -f2)
        local current_version=$(echo "$result" | cut -d: -f3)

        log_warning "‚ö†Ô∏è –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è Claude Code!"
        echo ""
        echo "–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: $current_version"
        echo "–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è:   $latest_version"
        echo ""
        read -p "–û–±–Ω–æ–≤–∏—Ç—å Claude Code –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑? (y/n): " -n 1 -r
        echo

        if [[ $REPLY =~ ^[Yy]$ ]]; then
            source scripts/claude-updater.sh
            update_claude_in_image "$latest_version"
        else
            log_info "üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --update-claude –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∂–µ."
        fi
    fi
}

# –í—ã–∑–æ–≤ –ø–æ—Å–ª–µ check_dockerfile_updates
check_claude_updates
```

**–®–∞–≥ 3**: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `--update-claude` –≤ `glm-launch.sh`:

```bash
case "$1" in
    --update-claude)
        log_info "üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Claude Code..."
        if [[ -f "scripts/claude-updater.sh" ]]; then
            source scripts/claude-updater.sh
            local result=$(check_claude_updates)

            if [[ $result == update_available:* ]]; then
                local latest_version=$(echo "$result" | cut -d: -f2)
                update_claude_in_image "$latest_version"
            else
                log_success "‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è"
            fi
        else
            log_error "‚ùå scripts/claude-updater.sh –Ω–µ –Ω–∞–π–¥–µ–Ω"
            exit 1
        fi
        exit 0
        ;;
esac
```

**–®–∞–≥ 4**: –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è:

```bash
# –í —Å–µ–∫—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export CLAUDE_AUTO_UPDATE="${CLAUDE_AUTO_UPDATE:-true}"  # true/false
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –≤ Dockerfile
   # –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ Dockerfile –Ω–∞ —Å—Ç–∞—Ä—É—é
   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
   ```

2. **–¢–µ—Å—Ç 2: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
   ```bash
   ./glm-launch.sh --update-claude
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ + –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏
   ```

3. **–¢–µ—Å—Ç 3: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**
   ```bash
   CLAUDE_AUTO_UPDATE=false ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
   ```

4. **–¢–µ—Å—Ç 4: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏**
   ```bash
   ./glm-launch.sh  # –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ - –ø—Ä–æ–≤–µ—Ä–∫–∞
   ./glm-launch.sh  # –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ - –∏–∑ –∫—ç—à–∞ (–≤ —Ç–µ—á–µ–Ω–∏–µ 24—á)
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ –±–µ–∑ —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π Claude Code
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ `--update-claude` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ (24 —á–∞—Å–∞)
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `CLAUDE_AUTO_UPDATE` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

#### üîó –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏

- **P1**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ P1 (Automatic Docker Build)
  - P1: –ê–≤—Ç–æ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
  - P15: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ Claude Code –≤ –æ–±—Ä–∞–∑–µ
- **P14**: –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º
  - P14: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π Dockerfile
  - P15: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π Claude Code
- **P9 (Secrets)**: `CLAUDE_AUTO_UPDATE` –≤ .env

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üìã **–ù–û–†–ú–ê–õ–¨–ù–´–ô** - —É–¥–æ–±–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞—è

---

### P16: –£–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π Claude Code ‚≠ê –í–ê–ñ–ù–ê–Ø –í–ê–ñ–ù–û–°–¢–¨

**–°—Ç–∞—Ç—É—Å**: üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
**–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞**: 9/13 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ –∑–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚≠ê –í–ê–ñ–ù–´–ô

#### üìù –û–ø–∏—Å–∞–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `.claude.json` –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º:

- **–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫**: `~/.claude.json` (user-level config, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—É—Ç—å Claude Code)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫**: `~/.claude/.claude.json` (—Ç–µ–∫—É—â–∏–π –º–∞–ø–ø–∏–Ω–≥ –≤ —Å–∫—Ä–∏–ø—Ç–µ)

**–†–∏—Å–∫–∏:**
- –ü—É—Ç–∞–Ω–∏—Ü–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –º–µ–∂–¥—É –ª–æ–∫–∞–ª—å–Ω—ã–º –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º
- –ü–æ—Ç–µ—Ä—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Claude Code

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚úÖ –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –º–∞–ø–ø–∏–Ω–≥–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (JSON —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å P8)
- ‚úÖ Migration helper –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚úÖ User-friendly —Å–æ–æ–±—â–µ–Ω–∏—è (UX transparency)

#### üìÇ –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. **glm-launch.sh** - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
2. **scripts/claude-config.sh** (–Ω–æ–≤—ã–π) - –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Claude Code
3. **.claude/settings.json** - Project-level config (GitOps-managed)
4. **docs/SCRIPT_LOGIC.md** - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º

#### üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–®–∞–≥ 1**: –°–æ–∑–¥–∞—Ç—å `scripts/claude-config.sh`:

```bash
#!/bin/bash
# claude-config.sh - –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Claude Code

# =============================================================================
# –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
# =============================================================================

# –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—É—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ)
CLAUDE_CONFIG_PATHS=(
    "$HOME/.claude.json"              # User-level (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
    "$HOME/.claude/.claude.json"      # Container-style (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π)
    ".claude/settings.json"           # Project-level (GitOps)
)

# –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
CLAUDE_CONFIG_STRATEGY="${CLAUDE_CONFIG_STRATEGY:-auto}"  # auto | user | project

# =============================================================================
# –§–£–ù–ö–¶–ò–ò –û–ë–ù–ê–†–£–ñ–ï–ù–ò–Ø
# =============================================================================

# –û–±–Ω–∞—Ä—É–∂–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (auto strategy)
detect_claude_config() {
    local strategy="${1:-$CLAUDE_CONFIG_STRATEGY}"

    case "$strategy" in
        user)
            echo "$HOME/.claude.json"
            return 0
            ;;
        project)
            echo "$HOME/.claude/.claude.json"
            return 0
            ;;
        auto|*)
            # Priority: user-level ‚Üí container-style ‚Üí create new
            for path in "${CLAUDE_CONFIG_PATHS[@]}"; do
                if [[ -f "$path" ]]; then
                    echo "$path"
                    return 0
                fi
            done

            # Default: —Å–æ–∑–¥–∞—Ç—å user-level
            echo "$HOME/.claude.json"
            return 0
            ;;
    esac
}

# =============================================================================
# –§–£–ù–ö–¶–ò–ò –í–ê–õ–ò–î–ê–¶–ò–ò
# =============================================================================

# –í–∞–ª–∏–¥–∞—Ü–∏—è JSON (SRE health check)
validate_claude_config_json() {
    local config="$1"

    if [[ ! -f "$config" ]]; then
        echo "missing"
        return 1
    fi

    if ! jq empty "$config" 2>/dev/null; then
        echo "invalid_json"
        return 1
    fi

    echo "valid"
    return 0
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π
validate_claude_config_keys() {
    local config="$1"
    local missing_keys=()

    # –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ (–¥–ª—è Z.AI API)
    local required_keys=(
        "apiUrl"
        # "model"  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∏–º–µ–µ—Ç –¥–µ—Ñ–æ–ª—Ç
    )

    for key in "${required_keys[@]}"; do
        if ! jq -e ".${key}" "$config" >/dev/null 2>&1; then
            missing_keys+=("$key")
        fi
    done

    if [[ ${#missing_keys[@]} -gt 0 ]]; then
        echo "missing:${missing_keys[@]}"
        return 1
    fi

    echo "complete"
    return 0
}

# =============================================================================
# –§–£–ù–ö–¶–ò–ò –°–û–ó–î–ê–ù–ò–Ø
# =============================================================================

# –°–æ–∑–¥–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
create_default_claude_config() {
    local target_path="$1"

    if [[ -z "$target_path" ]]; then
        target_path="$HOME/.claude.json"
    fi

    # –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    local target_dir="$(dirname "$target_path")"
    mkdir -p "$target_dir"

    # –î–µ—Ñ–æ–ª—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Z.AI API
    cat > "$target_path" <<'EOF'
{
  "apiUrl": "https://api.z.ai/api/anthropic",
  "defaultModel": "glm-4.6",
  "haikuModel": "glm-4.5-air",
  "enableExtendedThinking": true,
  "externalEditor": "nano"
}
EOF

    echo "$target_path"
}

# =============================================================================
# –§–£–ù–ö–¶–ò–ò –ú–ò–ì–†–ê–¶–ò–ò
# =============================================================================

# Backup –ø–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π (P8 integration)
backup_before_migration() {
    local source="$1"

    if [[ ! -f "$source" ]]; then
        return 0
    fi

    local backup_dir=".claude/backups"
    mkdir -p "$backup_dir"

    local timestamp=$(date +%Y%m%d_%H%M%S)
    local backup="$backup_dir/.claude.json.$timestamp.bak"

    cp "$source" "$backup"
    echo "$backup"
}

# –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
migrate_old_config() {
    local old_path="$HOME/.claude/.claude.json"
    local new_path="$HOME/.claude.json"

    # –ï—Å–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∞ –Ω–æ–≤—ã–π –Ω–µ—Ç
    if [[ -f "$old_path" && ! -f "$new_path" ]]; then
        echo "migration_needed:$old_path:$new_path"
        return 0
    fi

    echo "no_migration_needed"
    return 1
}

# =============================================================================
# –§–£–ù–ö–¶–ò–ò –ò–ù–§–û–†–ú–ò–†–û–í–ê–ù–ò–Ø
# =============================================================================

# –û–±—ä—è—Å–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (Prompt Engineer recommendation)
explain_config_setup() {
    local config="$1"
    local container_path="/root/.claude.json"

    cat <<EOF
üîß Claude Code Configuration:

Config file (host):     $config
Config file (container): $container_path

üí° To customize:
  export CLAUDE_CONFIG_STRATEGY=user|project|auto
  export CLAUDE_CONFIG_PATH=/custom/path/.claude.json

üìö Documentation: CLAUDE.md
EOF
}

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
show_config_status() {
    local config="$1"

    echo "üìä Configuration Status:"
    echo "   File: $config"

    local validation=$(validate_claude_config_json "$config")
    echo "   JSON: $validation"

    if [[ "$validation" == "valid" ]]; then
        local keys=$(validate_claude_config_keys "$config")
        echo "   Keys: $keys"
    fi
}
```

**–®–∞–≥ 2**: –û–±–Ω–æ–≤–∏—Ç—å `glm-launch.sh` - –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

```bash
# –í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞, –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
# =============================================================================
# CLAUDE CODE CONFIGURATION MANAGEMENT (P16)
# =============================================================================

# Source –∫–æ–Ω—Ñ–∏–≥ –º–µ–Ω–µ–¥–∂–µ—Ä –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
CLAUDE_CONFIG_MANAGER_SCRIPT="$(dirname "${BASH_SOURCE[0]}")/scripts/claude-config.sh"

if [[ -f "$CLAUDE_CONFIG_MANAGER_SCRIPT" ]]; then
    source "$CLAUDE_CONFIG_MANAGER_SCRIPT"

    # –û–±–Ω–∞—Ä—É–∂–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    CLAUDE_HOST_CONFIG="$(detect_claude_config)"

    # –í–∞–ª–∏–¥–∞—Ü–∏—è
    local validation=$(validate_claude_config_json "$CLAUDE_HOST_CONFIG")
    if [[ "$validation" != "valid" ]]; then
        log_warning "‚ö†Ô∏è Config validation failed: $validation"

        if [[ "$validation" == "missing" ]]; then
            log_info "üîß Creating default config..."
            CLAUDE_HOST_CONFIG="$(create_default_claude_config)"
            log_success "‚úÖ Created: $CLAUDE_HOST_CONFIG"
        elif [[ "$validation" == "invalid_json" ]]; then
            log_error "‚ùå Invalid JSON in config. Please fix manually."
            exit 1
        fi
    fi

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
    local migration_status=$(migrate_old_config)
    if [[ "$migration_status" == migration_needed:* ]]; then
        local old_path=$(echo "$migration_status" | cut -d: -f2)
        local new_path=$(echo "$migration_status" | cut -d: -f3)

        log_warning "‚ö†Ô∏è Old config path detected: $old_path"
        echo ""
        echo "A new standard path is recommended: $new_path"
        echo ""
        read -p "Migrate to new path? (y/n): " -n 1 -r
        echo

        if [[ $REPLY =~ ^[Yy]$ ]]; then
            local backup=$(backup_before_migration "$old_path")
            log_info "üíæ Backup created: $backup"

            cp "$old_path" "$new_path"
            CLAUDE_HOST_CONFIG="$new_path"
            log_success "‚úÖ Migration complete"
        else
            log_info "üìù Using old config path: $old_path"
            CLAUDE_HOST_CONFIG="$old_path"
        fi
    fi

    # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å (–µ—Å–ª–∏ verbose)
    if [[ "${VERBOSE:-false}" == "true" ]]; then
        show_config_status "$CLAUDE_HOST_CONFIG"
        echo ""
    fi
else
    # Fallback –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
    CLAUDE_HOST_CONFIG="${CLAUDE_CONFIG_PATH:-$HOME/.claude.json}"
fi

export CLAUDE_HOST_CONFIG

# =============================================================================
# VOLUME MAPPING UPDATE
# =============================================================================

# –û–±–Ω–æ–≤–∏—Ç—å volume mapping –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
# –ó–∞–º–µ–Ω–∏—Ç—å hardcoded –ø—É—Ç—å –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
```

**–®–∞–≥ 3**: –û–±–Ω–æ–≤–∏—Ç—å volume mapping –≤ `run_docker()`:

```bash
# –ë—ã–ª–æ (hardcoded):
# -v "$HOME/.claude/.claude.json:/root/.claude.json"

# –°—Ç–∞–ª–æ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ):
# -v "$CLAUDE_HOST_CONFIG:/root/.claude.json"

# –í —Ñ—É–Ω–∫—Ü–∏–∏ run_docker():
run_docker() {
    # ...

    DOCKER_RUN=(
        docker run --rm -it $DOCKER_INTERACTIVE
            -v "$CLAUDE_HOST_CONFIG:/root/.claude.json"  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥
            # ... –¥—Ä—É–≥–∏–µ volumes
            "$IMAGE" "$@"
    )

    # ...
}
```

**–®–∞–≥ 4**: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
case "$1" in
    --config-status)
        source scripts/claude-config.sh
        CLAUDE_HOST_CONFIG="$(detect_claude_config)"
        show_config_status "$CLAUDE_HOST_CONFIG"
        exit 0
        ;;
    --config-migrate)
        source scripts/claude-config.sh
        local old_path="$HOME/.claude/.claude.json"
        local new_path="$HOME/.claude.json"

        if [[ -f "$old_path" ]]; then
            local backup=$(backup_before_migration "$old_path")
            cp "$old_path" "$new_path"
            log_success "‚úÖ Migrated: $old_path ‚Üí $new_path"
            log_info "üíæ Backup: $backup"
        else
            log_info "üìù No old config found"
        fi
        exit 0
        ;;
esac
```

#### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–¢–µ—Å—Ç 1: –ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ user-level –∫–æ–Ω—Ñ–∏–≥–∞**
   ```bash
   # Setup: –°–æ–∑–¥–∞—Ç—å ~/.claude.json
   echo '{"test": true}' > ~/.claude.json

   ./glm-launch.sh --config-status
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: Config file: ~/.claude.json
   ```

2. **–¢–µ—Å—Ç 2: Fallback –Ω–∞ container-style**
   ```bash
   # Setup: –£–¥–∞–ª–∏—Ç—å user-level, –æ—Å—Ç–∞–≤–∏—Ç—å container-style
   rm -f ~/.claude.json

   ./glm-launch.sh --config-status
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: Config file: ~/.claude/.claude.json
   ```

3. **–¢–µ—Å—Ç 3: –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   ```bash
   # Setup: –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏
   rm -f ~/.claude.json ~/.claude/.claude.json

   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: –°–æ–∑–¥–∞–Ω ~/.claude.json —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   ```

4. **–¢–µ—Å—Ç 4: –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   ```bash
   # Setup: –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ä—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   mkdir -p ~/.claude
   echo '{"old": true}' > ~/.claude/.claude.json

   ./glm-launch.sh --config-migrate
   # –û–∂–∏–¥–∞–µ—Ç—Å—è:
   # - Backup —Å–æ–∑–¥–∞–Ω
   # - ~/.claude.json —Å–æ–∑–¥–∞–Ω
   # - Settings migrated
   ```

5. **–¢–µ—Å—Ç 5: –í–∞–ª–∏–¥–∞—Ü–∏—è JSON**
   ```bash
   # Setup: –°–æ–∑–¥–∞—Ç—å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON
   echo '{invalid json}' > ~/.claude.json

   ./glm-launch.sh
   # –û–∂–∏–¥–∞–µ—Ç—Å—è: Error —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º JSON
   ```

#### üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è JSON (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å + –∫–ª—é—á–∏)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ Migration helper —Å backup (P8 integration)
- ‚úÖ User-friendly —Å–æ–æ–±—â–µ–Ω–∏—è (UX transparency)
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã `--config-status` –∏ `--config-migrate`
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `CLAUDE_CONFIG_STRATEGY`

#### üîó –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏

- **P8 (Backup)**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å defensive backup/restore
  - `backup_before_migration()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç P8 –º–µ—Ö–∞–Ω–∏–∑–º
- **P9 (Secrets)**: `CLAUDE_CONFIG_STRATEGY` –≤ .env
- **P10 (Onboarding)**: –£–ø—Ä–æ—â–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- **P12 (Workspace)**: –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –∑–∞–¥–∞—á–∞

**–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞**: 9/13 —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç **‚≠ê –í–ê–ñ–ù–´–ô**

**–ö–ª—é—á–µ–≤—ã–µ —ç–∫—Å–ø–µ—Ä—Ç—ã**:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏—è: "–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞"
- SRE: "–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ - SLO –¥–ª—è production"
- GitOps Specialist: "Configuration as Code - —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø"

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: ‚≠ê **–í–ê–ñ–ù–´–ô** - —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∞–∂–Ω–∞ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

---

## üìä –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–° –ü–õ–ê–ù–ê

**–ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω**: 2025-12-25
**–ü–ª–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω**: 2025-12-30 ‚úÖ
**–û–±–Ω–æ–≤–ª–µ–Ω**: 2026-01-15 (–¥–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ P11)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ó–ê–í–ï–†–®–ï–ù** - –í—Å–µ 7 —É–ª—É—á—à–µ–Ω–∏–π (P1-P7) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

**‚úÖ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø (P1-P7):**
1. **–§–∞–∑–∞ 1 (P1-P3)**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û 2025-12-26 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. **–§–∞–∑–∞ 2 (P4-P5)**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û 2025-12-29 - –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
3. **–§–∞–∑–∞ 3 (P6-P7)**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û 2025-12-30 - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

**üìã –ë–ê–ö–õ–û–ì (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É):**
4. **P12 (Workspace)**: ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô** - –ó–∞–ø—É—Å–∫ –∏–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏ + –º–∞–ø–ø–∏–Ω–≥ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
5. **P13 (Aliases)**: ‚≠ê **–í–ê–ñ–ù–´–ô** - Shell-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (glm, glm-debug)
6. **P14 (Apps)**: ‚≠ê **–í–ê–ñ–ù–´–ô** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ + –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞
7. **P16 (Config)**: ‚≠ê **–í–ê–ñ–ù–´–ô** - –£–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (.claude.json mapping)
8. **P15 (Auto-update)**: üìã **–ù–û–†–ú–ê–õ–¨–ù–´–ô** - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Claude Code
9. **P11 (–û–Ω–±–æ—Ä–¥–∏–Ω–≥)**: üìã –ù–û–†–ú–ê–õ–¨–ù–´–ô - –£–ª—É—á—à–µ–Ω–∏–µ UX –ø—Ä–æ—Ü–µ—Å—Å–∞ onboarding
10. **P8-P9**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û - Defensive improvements

**üéä –î–û–°–¢–ò–ñ–ï–ù–ò–Ø:**
- ‚úÖ 100% Completion Rate (7/7 features)
- ‚úÖ 100% UAT Pass Rate (all tests passed)
- ‚úÖ 10+ commits with proper documentation
- ‚úÖ UAT Methodology evolved: v1.1 ‚Üí v2.0 (Hybrid AI-User Testing)

**üìö –°–í–Ø–ó–ê–ù–ù–´–ï –î–û–ö–£–ú–ï–ù–¢–´:**
- **[Session Handoff](../SESSION_HANDOFF.md)** - –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è P1-P7
- **[P10 Research](./P10_ONBOARDING_BYPASS_RESEARCH.md)** - –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è onboarding bypass
- **[UAT Plans](./uat/)** - –í—Å–µ –ø–ª–∞–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (P1-P7, P10)
